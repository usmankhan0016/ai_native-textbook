"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_textbook=self.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[8482],{6209:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"module-1/week-3","title":"Week 3 Practice Guide","description":"Focus: ROS 2 concepts, architecture, and communication patterns (Chapters 1-2)","source":"@site/docs/module-1/week-3.md","sourceDirName":"module-1","slug":"/module-1/week-3","permalink":"/ai_native-textbook/docs/module-1/week-3","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Week3","permalink":"/ai_native-textbook/docs/tags/week-3"},{"inline":true,"label":"Practice","permalink":"/ai_native-textbook/docs/tags/practice"},{"inline":true,"label":"ROS2","permalink":"/ai_native-textbook/docs/tags/ros-2"},{"inline":true,"label":"Nodes","permalink":"/ai_native-textbook/docs/tags/nodes"},{"inline":true,"label":"Topics","permalink":"/ai_native-textbook/docs/tags/topics"}],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Week 3 Practice Guide","tags":["Week3","Practice","ROS2","Nodes","Topics"],"difficulty":"Beginner","module":1,"week":3,"estimated_time":"8-10 hours","topics":["ROS 2 setup","Nodes","Topics","CLI tools","Publisher/Subscriber"]},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 4: URDF for Humanoid Robots","permalink":"/ai_native-textbook/docs/module-1/chapter-4-urdf-for-humanoids"},"next":{"title":"Week 4 Practice Guide","permalink":"/ai_native-textbook/docs/module-1/week-4"}}');var r=n(4848),t=n(8453);const l={sidebar_position:6,title:"Week 3 Practice Guide",tags:["Week3","Practice","ROS2","Nodes","Topics"],difficulty:"Beginner",module:1,week:3,estimated_time:"8-10 hours",topics:["ROS 2 setup","Nodes","Topics","CLI tools","Publisher/Subscriber"]},o="Week 3 Practice Guide: ROS 2 Fundamentals",c={},a=[{value:"Week Overview",id:"week-overview",level:2},{value:"Learning Goals",id:"learning-goals",level:2},{value:"Day-by-Day Breakdown",id:"day-by-day-breakdown",level:2},{value:"Day 1 (Monday): ROS 2 Introduction and Setup",id:"day-1-monday-ros-2-introduction-and-setup",level:3},{value:"Tasks",id:"tasks",level:4},{value:"Day 2 (Tuesday): Your First ROS 2 Node",id:"day-2-tuesday-your-first-ros-2-node",level:3},{value:"Tasks",id:"tasks-1",level:4},{value:"Day 3 (Wednesday): Publisher and Subscriber",id:"day-3-wednesday-publisher-and-subscriber",level:3},{value:"Tasks",id:"tasks-2",level:4},{value:"Day 4 (Thursday): Services and QoS",id:"day-4-thursday-services-and-qos",level:3},{value:"Tasks",id:"tasks-3",level:4},{value:"Day 5 (Friday): Actions and System Integration",id:"day-5-friday-actions-and-system-integration",level:3},{value:"Tasks",id:"tasks-4",level:4},{value:"Hands-On Exercises",id:"hands-on-exercises",level:2},{value:"Exercise 1: Humanoid Joint State Publisher (Easy)",id:"exercise-1-humanoid-joint-state-publisher-easy",level:3},{value:"Exercise 2: Sensor Data Logger (Easy-Medium)",id:"exercise-2-sensor-data-logger-easy-medium",level:3},{value:"Exercise 3: Multi-Sensor Fusion (Medium)",id:"exercise-3-multi-sensor-fusion-medium",level:3},{value:"Exercise 4: Parameter-Based Publisher (Medium)",id:"exercise-4-parameter-based-publisher-medium",level:3},{value:"Exercise 5: Emergency Stop Service (Medium-Hard)",id:"exercise-5-emergency-stop-service-medium-hard",level:3},{value:"Challenge Projects",id:"challenge-projects",level:2},{value:"Challenge 1: Humanoid Head Tracker (Beginner)",id:"challenge-1-humanoid-head-tracker-beginner",level:3},{value:"Challenge 2: Multi-Node Communication System (Intermediate)",id:"challenge-2-multi-node-communication-system-intermediate",level:3},{value:"Challenge 3: Simple Finite State Machine (Advanced)",id:"challenge-3-simple-finite-state-machine-advanced",level:3},{value:"Weekly Checklist",id:"weekly-checklist",level:2},{value:"Debugging Tips",id:"debugging-tips",level:2},{value:"Issue: &quot;Package not found&quot;",id:"issue-package-not-found",level:3},{value:"Issue: &quot;No executable found&quot;",id:"issue-no-executable-found",level:3},{value:"Issue: &quot;Topic not receiving messages&quot;",id:"issue-topic-not-receiving-messages",level:3},{value:"Issue: QoS incompatibility",id:"issue-qos-incompatibility",level:3},{value:"Resources",id:"resources",level:2},{value:"Next Week Preview",id:"next-week-preview",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"week-3-practice-guide-ros-2-fundamentals",children:"Week 3 Practice Guide: ROS 2 Fundamentals"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Focus"}),": ROS 2 concepts, architecture, and communication patterns (Chapters 1-2)"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"week-overview",children:"Week Overview"}),"\n",(0,r.jsx)(s.p,{children:"This week, you'll build a solid foundation in ROS 2 by:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Understanding what ROS 2 is and why it's used for humanoid robotics"}),"\n",(0,r.jsx)(s.li,{children:"Writing your first ROS 2 nodes"}),"\n",(0,r.jsx)(s.li,{children:"Implementing publisher/subscriber communication"}),"\n",(0,r.jsx)(s.li,{children:"Mastering ROS 2 command-line tools"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Time Allocation"}),": 8-10 hours total"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\ud83d\udcd6 ",(0,r.jsx)(s.strong,{children:"Reading"}),": 3-4 hours (Chapters 1-2)"]}),"\n",(0,r.jsxs)(s.li,{children:["\ud83d\udcbb ",(0,r.jsx)(s.strong,{children:"Hands-on Practice"}),": 4-5 hours (exercises below)"]}),"\n",(0,r.jsxs)(s.li,{children:["\ud83c\udfaf ",(0,r.jsx)(s.strong,{children:"Challenge Projects"}),": 1-2 hours"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"learning-goals",children:"Learning Goals"}),"\n",(0,r.jsx)(s.p,{children:"By the end of Week 3, you should be able to:"}),"\n",(0,r.jsxs)(s.p,{children:["\u2705 Explain what ROS 2 is and its key differences from ROS 1\n\u2705 Create and run simple ROS 2 nodes using rclpy\n\u2705 Implement topic-based communication (publishers and subscribers)\n\u2705 Use ",(0,r.jsx)(s.code,{children:"ros2"})," CLI tools to inspect running systems\n\u2705 Understand Quality of Service (QoS) policies\n\u2705 Debug common ROS 2 issues"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"day-by-day-breakdown",children:"Day-by-Day Breakdown"}),"\n",(0,r.jsx)(s.h3,{id:"day-1-monday-ros-2-introduction-and-setup",children:"Day 1 (Monday): ROS 2 Introduction and Setup"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Duration"}),": 1.5-2 hours\n",(0,r.jsx)(s.strong,{children:"Goal"}),": Understand ROS 2 and verify your development environment"]}),"\n",(0,r.jsx)(s.h4,{id:"tasks",children:"Tasks"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Read"}),": ",(0,r.jsx)(s.a,{href:"/ai_native-textbook/docs/module-1/chapter-1-introduction-to-ros2",children:"Chapter 1: Introduction to ROS 2"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Focus on sections 1.1-1.3 (What is ROS 2, Why for humanoids, ROS 1 vs ROS 2)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Verify Installation"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Check ROS 2 Humble is installed\nros2 --version\n# Expected: ros2 cli version: 0.18.x\n\n# Source ROS 2 (add to ~/.bashrc for persistence)\nsource /opt/ros/humble/setup.bash\n\n# Verify with demo nodes\nros2 run demo_nodes_py talker\n# Open new terminal:\nros2 run demo_nodes_py listener\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Explore ROS 2 CLI"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# List running nodes\nros2 node list\n\n# List active topics\nros2 topic list\n\n# Echo messages on /chatter topic\nros2 topic echo /chatter\n\n# Get topic info\nros2 topic info /chatter\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Exercise"}),": Run the turtlesim demo and practice CLI commands"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 run turtlesim turtlesim_node\n# New terminal:\nros2 run turtlesim turtle_teleop_key\n\n# In another terminal, inspect the system:\nros2 node list\nros2 topic list\nros2 topic echo /turtle1/cmd_vel\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Success Criteria"}),": You can start demo nodes, see topics being published, and understand the ROS 2 graph."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"day-2-tuesday-your-first-ros-2-node",children:"Day 2 (Tuesday): Your First ROS 2 Node"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Duration"}),": 2-2.5 hours\n",(0,r.jsx)(s.strong,{children:"Goal"}),": Write and run your first custom ROS 2 node"]}),"\n",(0,r.jsx)(s.h4,{id:"tasks-1",children:"Tasks"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Read"}),": Chapter 2, Section 2.1 (Nodes and the Computation Graph)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Create Workspace"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\ncd ~/ros2_ws/src\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Create Package"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 pkg create my_first_robot \\\n  --build-type ament_python \\\n  --dependencies rclpy std_msgs\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Write Minimal Node"})," (see Chapter 2, Section 2.2):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# File: ~/ros2_ws/src/my_first_robot/my_first_robot/hello_ros2.py\n\nimport rclpy\nfrom rclpy.node import Node\n\nclass HelloROS2(Node):\n    def __init__(self):\n        super().__init__('hello_ros2')\n        self.counter = 0\n        self.timer = self.create_timer(1.0, self.timer_callback)\n        self.get_logger().info('Hello ROS 2 node started!')\n\n    def timer_callback(self):\n        self.counter += 1\n        self.get_logger().info(f'Hello ROS 2! Count: {self.counter}')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = HelloROS2()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Update setup.py"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"entry_points={\n    'console_scripts': [\n        'hello_ros2 = my_first_robot.hello_ros2:main',\n    ],\n},\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Build and Run"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build --packages-select my_first_robot\nsource install/setup.bash\nros2 run my_first_robot hello_ros2\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Success Criteria"}),": Your node runs and prints messages every second. You can see it in ",(0,r.jsx)(s.code,{children:"ros2 node list"}),"."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"day-3-wednesday-publisher-and-subscriber",children:"Day 3 (Wednesday): Publisher and Subscriber"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Duration"}),": 2-2.5 hours\n",(0,r.jsx)(s.strong,{children:"Goal"}),": Implement topic-based communication"]}),"\n",(0,r.jsx)(s.h4,{id:"tasks-2",children:"Tasks"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Read"}),": Chapter 2, Section 2.2 (Topics and Messages)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Create Publisher Node"})," (Talker):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# File: ~/ros2_ws/src/my_first_robot/my_first_robot/robot_talker.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass RobotTalker(Node):\n    def __init__(self):\n        super().__init__('robot_talker')\n        self.publisher_ = self.create_publisher(String, '/robot_status', 10)\n        self.timer = self.create_timer(0.5, self.publish_status)\n        self.count = 0\n\n    def publish_status(self):\n        msg = String()\n        msg.data = f'Robot status: Active (count: {self.count})'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Published: \"{msg.data}\"')\n        self.count += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = RobotTalker()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Create Subscriber Node"})," (Listener):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# File: ~/ros2_ws/src/my_first_robot/my_first_robot/robot_listener.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass RobotListener(Node):\n    def __init__(self):\n        super().__init__('robot_listener')\n        self.subscription = self.create_subscription(\n            String,\n            '/robot_status',\n            self.status_callback,\n            10\n        )\n\n    def status_callback(self, msg):\n        self.get_logger().info(f'Received: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = RobotListener()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Add Entry Points and Build"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# In setup.py:\nentry_points={\n    'console_scripts': [\n        'hello_ros2 = my_first_robot.hello_ros2:main',\n        'robot_talker = my_first_robot.robot_talker:main',\n        'robot_listener = my_first_robot.robot_listener:main',\n    ],\n},\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build --packages-select my_first_robot\nsource install/setup.bash\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Test Communication"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Terminal 1: Start talker\nros2 run my_first_robot robot_talker\n\n# Terminal 2: Start listener\nros2 run my_first_robot robot_listener\n\n# Terminal 3: Inspect topics\nros2 topic list\nros2 topic info /robot_status\nros2 topic echo /robot_status\nros2 topic hz /robot_status\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Success Criteria"}),": Listener receives all messages from talker. ",(0,r.jsx)(s.code,{children:"ros2 topic hz"})," shows ~2 Hz publish rate."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"day-4-thursday-services-and-qos",children:"Day 4 (Thursday): Services and QoS"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Duration"}),": 2-2.5 hours\n",(0,r.jsx)(s.strong,{children:"Goal"}),": Learn request-response patterns and Quality of Service"]}),"\n",(0,r.jsx)(s.h4,{id:"tasks-3",children:"Tasks"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Read"}),": Chapter 2, Sections 2.3 (Services) and 2.5 (QoS)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Create Service Server"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# File: ~/ros2_ws/src/my_first_robot/my_first_robot/add_service.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import AddTwoInts\n\nclass AddService(Node):\n    def __init__(self):\n        super().__init__('add_service')\n        self.service = self.create_service(\n            AddTwoInts,\n            '/add_two_ints',\n            self.add_callback\n        )\n        self.get_logger().info('Add service ready')\n\n    def add_callback(self, request, response):\n        response.sum = request.a + request.b\n        self.get_logger().info(f'{request.a} + {request.b} = {response.sum}')\n        return response\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = AddService()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Test Service with CLI"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Build and run server\ncd ~/ros2_ws\ncolcon build --packages-select my_first_robot\nsource install/setup.bash\nros2 run my_first_robot add_service\n\n# In another terminal, call the service:\nros2 service list\nros2 service type /add_two_ints\nros2 service call /add_two_ints example_interfaces/srv/AddTwoInts "{a: 5, b: 3}"\n# Expected: sum: 8\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Experiment with QoS"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Modify robot_talker.py to use BEST_EFFORT QoS\nfrom rclpy.qos import QoSProfile, QoSReliabilityPolicy, QoSHistoryPolicy\n\nqos_profile = QoSProfile(\n    reliability=QoSReliabilityPolicy.BEST_EFFORT,\n    history=QoSHistoryPolicy.KEEP_LAST,\n    depth=1\n)\n\nself.publisher_ = self.create_publisher(String, '/robot_status', qos_profile)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Rebuild and observe message delivery behavior."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Success Criteria"}),": Service responds correctly. You understand the difference between RELIABLE and BEST_EFFORT QoS."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"day-5-friday-actions-and-system-integration",children:"Day 5 (Friday): Actions and System Integration"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Duration"}),": 1.5-2 hours\n",(0,r.jsx)(s.strong,{children:"Goal"}),": Understand actions for long-running tasks"]}),"\n",(0,r.jsx)(s.h4,{id:"tasks-4",children:"Tasks"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Read"}),": Chapter 2, Section 2.4 (Actions)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Test Built-in Action"})," (Fibonacci example from Chapter 2):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Terminal 1: Run action server\nros2 run action_tutorials_py fibonacci_action_server\n\n# Terminal 2: Send goal\nros2 action send_goal /fibonacci action_tutorials_interfaces/action/Fibonacci "{order: 5}"\n\n# Observe feedback and final result\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Inspect Running System"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 action list\nros2 action info /fibonacci\nros2 interface show action_tutorials_interfaces/action/Fibonacci\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Complete Chapter 2 Exercises"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Exercise 1: Multi-topic publisher (Easy)"}),"\n",(0,r.jsx)(s.li,{children:"Exercise 2: Service with validation (Easy-Medium)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Success Criteria"}),": You can run action servers/clients and understand when to use topics vs services vs actions."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"hands-on-exercises",children:"Hands-On Exercises"}),"\n",(0,r.jsxs)(s.p,{children:["Complete at least ",(0,r.jsx)(s.strong,{children:"3 of these 5 exercises"})," to reinforce your learning:"]}),"\n",(0,r.jsx)(s.h3,{id:"exercise-1-humanoid-joint-state-publisher-easy",children:"Exercise 1: Humanoid Joint State Publisher (Easy)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Goal"}),": Simulate a humanoid robot publishing joint states"]}),"\n",(0,r.jsx)(s.p,{children:"Create a node that publishes joint positions for a humanoid:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Topic: ",(0,r.jsx)(s.code,{children:"/joint_states"})]}),"\n",(0,r.jsxs)(s.li,{children:["Message type: ",(0,r.jsx)(s.code,{children:"sensor_msgs/msg/JointState"})]}),"\n",(0,r.jsxs)(s.li,{children:["Joints: ",(0,r.jsx)(s.code,{children:"['head_pan', 'left_shoulder', 'right_shoulder', 'left_elbow', 'right_elbow']"})]}),"\n",(0,r.jsx)(s.li,{children:"Publish at 50 Hz"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Acceptance"}),": ",(0,r.jsx)(s.code,{children:"ros2 topic hz /joint_states"})," shows ~50 Hz"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"exercise-2-sensor-data-logger-easy-medium",children:"Exercise 2: Sensor Data Logger (Easy-Medium)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Goal"}),": Subscribe to a topic and log data to a file"]}),"\n",(0,r.jsx)(s.p,{children:"Create a node that:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Subscribes to ",(0,r.jsx)(s.code,{children:"/robot_status"})," from Day 3"]}),"\n",(0,r.jsxs)(s.li,{children:["Writes received messages to ",(0,r.jsx)(s.code,{children:"robot_log.txt"})," with timestamps"]}),"\n",(0,r.jsx)(s.li,{children:"Logs at least 100 messages, then exits"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Acceptance"}),": File contains 100+ timestamped messages"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"exercise-3-multi-sensor-fusion-medium",children:"Exercise 3: Multi-Sensor Fusion (Medium)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Goal"}),": Subscribe to multiple topics and combine data"]}),"\n",(0,r.jsx)(s.p,{children:"Create a node that subscribes to:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/camera/image"})," (simulated with String messages)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/imu/data"})," (simulated with String messages)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/lidar/scan"})," (simulated with String messages)"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Combine and republish to ",(0,r.jsx)(s.code,{children:"/sensor_fusion/status"})," every 1 second."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Acceptance"}),": Fusion node receives from all 3 topics and publishes combined status"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"exercise-4-parameter-based-publisher-medium",children:"Exercise 4: Parameter-Based Publisher (Medium)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Goal"}),": Create a configurable publisher using ROS 2 parameters"]}),"\n",(0,r.jsx)(s.p,{children:"Node should:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Accept parameters: ",(0,r.jsx)(s.code,{children:"topic_name"}),", ",(0,r.jsx)(s.code,{children:"publish_rate"}),", ",(0,r.jsx)(s.code,{children:"message_prefix"})]}),"\n",(0,r.jsx)(s.li,{children:"Publish String messages to the specified topic"}),"\n",(0,r.jsx)(s.li,{children:"Update behavior when parameters change"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Acceptance"}),": Can change ",(0,r.jsx)(s.code,{children:"publish_rate"})," at runtime with ",(0,r.jsx)(s.code,{children:"ros2 param set"})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"exercise-5-emergency-stop-service-medium-hard",children:"Exercise 5: Emergency Stop Service (Medium-Hard)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Goal"}),": Implement a safety service for a robot"]}),"\n",(0,r.jsx)(s.p,{children:"Create two nodes:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Robot Controller"}),": Publishes ",(0,r.jsx)(s.code,{children:"/robot/velocity"})," at 10 Hz"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Emergency Stop Service"}),": Service ",(0,r.jsx)(s.code,{children:"/emergency_stop"})," that stops the robot"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"When service is called:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Controller stops publishing velocity"}),"\n",(0,r.jsxs)(s.li,{children:["Publishes ",(0,r.jsx)(s.code,{children:"/robot/status"}),' = "STOPPED"']}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Acceptance"}),": Calling service stops velocity publications"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"challenge-projects",children:"Challenge Projects"}),"\n",(0,r.jsxs)(s.p,{children:["Pick ",(0,r.jsx)(s.strong,{children:"one challenge project"})," to test your full understanding:"]}),"\n",(0,r.jsx)(s.h3,{id:"challenge-1-humanoid-head-tracker-beginner",children:"Challenge 1: Humanoid Head Tracker (Beginner)"}),"\n",(0,r.jsx)(s.p,{children:"Build a simulated head tracking system:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Input"}),": ",(0,r.jsx)(s.code,{children:"/target_position"})," (geometry_msgs/Point)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output"}),": ",(0,r.jsx)(s.code,{children:"/head_pan_tilt"})," (Float64MultiArray with 2 values)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Logic"}),": Convert XYZ target to pan/tilt angles"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Constraints"}),": Pan: \xb190\xb0, Tilt: \xb145\xb0"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Bonus"}),": Visualize with ",(0,r.jsx)(s.code,{children:"rqt_plot"})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"challenge-2-multi-node-communication-system-intermediate",children:"Challenge 2: Multi-Node Communication System (Intermediate)"}),"\n",(0,r.jsx)(s.p,{children:"Create a 4-node system:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sensor Node"}),": Publishes simulated sensor data (temperature, humidity)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Processor Node"}),": Subscribes to sensors, computes averages"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Decision Node"}),": Subscribes to averages, publishes commands"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Actuator Node"}),": Subscribes to commands, logs actions"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Bonus"}),": Add QoS profiles (BEST_EFFORT for sensors, RELIABLE for commands)"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"challenge-3-simple-finite-state-machine-advanced",children:"Challenge 3: Simple Finite State Machine (Advanced)"}),"\n",(0,r.jsx)(s.p,{children:"Implement a robot state machine with states:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"IDLE"})," \u2192 ",(0,r.jsx)(s.code,{children:"MOVING"})," \u2192 ",(0,r.jsx)(s.code,{children:"WORKING"})," \u2192 ",(0,r.jsx)(s.code,{children:"IDLE"})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Transitions:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/start"})," service: IDLE \u2192 MOVING"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/work"})," service: MOVING \u2192 WORKING"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/stop"})," service: Any state \u2192 IDLE"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Publish current state to ",(0,r.jsx)(s.code,{children:"/robot/state"})," at 5 Hz."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Bonus"}),": Add timeout transitions (auto-return to IDLE after 30s)"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"weekly-checklist",children:"Weekly Checklist"}),"\n",(0,r.jsx)(s.p,{children:"Use this checklist to track your progress:"}),"\n",(0,r.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Completed Chapter 1 reading"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Completed Chapter 2 reading"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Created first ROS 2 package"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Wrote and ran a minimal node"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Implemented publisher/subscriber communication"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Created and tested a service"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Experimented with QoS policies"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Tested action servers/clients"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Completed at least 3 hands-on exercises"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Completed 1 challenge project"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Can explain nodes, topics, services, actions to someone else"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,r.jsx)(s.p,{children:"Common issues this week:"}),"\n",(0,r.jsx)(s.h3,{id:"issue-package-not-found",children:'Issue: "Package not found"'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Solution: Source your workspace\nsource ~/ros2_ws/install/setup.bash\n# Add to ~/.bashrc for persistence\n"})}),"\n",(0,r.jsx)(s.h3,{id:"issue-no-executable-found",children:'Issue: "No executable found"'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Solution: Check entry_points in setup.py\n# Rebuild: colcon build --packages-select <pkg>\n"})}),"\n",(0,r.jsx)(s.h3,{id:"issue-topic-not-receiving-messages",children:'Issue: "Topic not receiving messages"'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Check if publisher/subscriber are running:\nros2 node list\n\n# Check topic name matches exactly:\nros2 topic list\n\n# Verify message type compatibility:\nros2 topic info /topic_name\n"})}),"\n",(0,r.jsx)(s.h3,{id:"issue-qos-incompatibility",children:"Issue: QoS incompatibility"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Error: "Could not find a matching QoS profile"\n# Solution: Publisher and subscriber must have compatible QoS\n# Either both RELIABLE or both BEST_EFFORT\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"resources",children:"Resources"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/",children:"ROS 2 Humble Documentation"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros2.org/latest/api/rclpy/",children:"rclpy API Reference"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://github.com/ros2/ros2cli/blob/rolling/ros2cli/doc/cheat_sheet.rst",children:"ROS 2 CLI Cheat Sheet"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html",children:"Understanding ROS 2 Nodes"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html",children:"Understanding ROS 2 Topics"})}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"next-week-preview",children:"Next Week Preview"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Week 4"})," focuses on:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Creating professional ROS 2 packages"}),"\n",(0,r.jsx)(s.li,{children:"Writing launch files to orchestrate multiple nodes"}),"\n",(0,r.jsx)(s.li,{children:"Managing parameters with YAML files"}),"\n",(0,r.jsx)(s.li,{children:"Integrating with Gazebo simulation"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Get ready to build more complex systems! \ud83d\ude80"}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Questions or stuck?"})," Review the chapter exercises or check the ROS 2 documentation. Practice is key to mastering ROS 2!"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var i=n(6540);const r={},t=i.createContext(r);function l(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);